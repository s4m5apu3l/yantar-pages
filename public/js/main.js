(()=>{var Se=Object.create;var se=Object.defineProperty;var Te=Object.getOwnPropertyDescriptor;var Fe=Object.getOwnPropertyNames;var xe=Object.getPrototypeOf,Le=Object.prototype.hasOwnProperty;var Ve=(g,c,h)=>c in g?se(g,c,{enumerable:!0,configurable:!0,writable:!0,value:h}):g[c]=h;var Oe=(g,c)=>()=>(c||g((c={exports:{}}).exports,c),c.exports);var Ee=(g,c,h,w)=>{if(c&&typeof c=="object"||typeof c=="function")for(let f of Fe(c))!Le.call(g,f)&&f!==h&&se(g,f,{get:()=>c[f],enumerable:!(w=Te(c,f))||w.enumerable});return g};var Ae=(g,c,h)=>(h=g!=null?Se(xe(g)):{},Ee(c||!g||!g.__esModule?se(h,"default",{value:g,enumerable:!0}):h,g));var ue=(g,c,h)=>(Ve(g,typeof c!="symbol"?c+"":c,h),h);var pe=Oe((J,ae)=>{(function(g,c){typeof J=="object"&&typeof ae=="object"?ae.exports=c():typeof define=="function"&&define.amd?define([],c):typeof J=="object"?J.AirDatepicker=c():g.AirDatepicker=c()})(J,function(){return function(){"use strict";var g={d:function(r,e){for(var t in e)g.o(e,t)&&!g.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})},o:function(r,e){return Object.prototype.hasOwnProperty.call(r,e)}},c={};g.d(c,{default:function(){return V}});var h={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},w={classes:"",inline:!1,locale:{days:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"],daysShort:["\u0412\u043E\u0441","\u041F\u043E\u043D","\u0412\u0442\u043E","\u0421\u0440\u0435","\u0427\u0435\u0442","\u041F\u044F\u0442","\u0421\u0443\u0431"],daysMin:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"],months:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],monthsShort:["\u042F\u043D\u0432","\u0424\u0435\u0432","\u041C\u0430\u0440","\u0410\u043F\u0440","\u041C\u0430\u0439","\u0418\u044E\u043D","\u0418\u044E\u043B","\u0410\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"],today:"\u0421\u0435\u0433\u043E\u0434\u043D\u044F",clear:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:h.days,minView:h.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function f(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof r=="string"?e.querySelector(r):r}function C(){let{tagName:r="div",className:e="",innerHtml:t="",id:i="",attrs:a={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=document.createElement(r);return e&&n.classList.add(...e.split(" ")),i&&(n.id=i),t&&(n.innerHTML=t),a&&Z(n,a),n}function Z(r,e){for(let[t,i]of Object.entries(e))i!==void 0&&r.setAttribute(t,i);return r}function re(r){return new Date(r.getFullYear(),r.getMonth()+1,0).getDate()}function y(r){let e=r.getHours(),t=e%12==0?12:e%12;return{year:r.getFullYear(),month:r.getMonth(),fullMonth:r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1,date:r.getDate(),fullDate:r.getDate()<10?"0"+r.getDate():r.getDate(),day:r.getDay(),hours:e,fullHours:B(e),hours12:t,fullHours12:B(t),minutes:r.getMinutes(),fullMinutes:r.getMinutes()<10?"0"+r.getMinutes():r.getMinutes()}}function B(r){return r<10?"0"+r:r}function E(r){let e=10*Math.floor(r.getFullYear()/10);return[e,e+9]}function F(){let r=[];for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.forEach(a=>{if(typeof a=="object")for(let n in a)a[n]&&r.push(n);else a&&r.push(a)}),r.join(" ")}function b(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.days;if(!r||!e)return!1;let i=y(r),a=y(e);return{[h.days]:i.date===a.date&&i.month===a.month&&i.year===a.year,[h.months]:i.month===a.month&&i.year===a.year,[h.years]:i.year===a.year}[t]}function x(r,e,t){let i=ee(r,!1).getTime(),a=ee(e,!1).getTime();return t?i>=a:i>a}function P(r,e){return!x(r,e,!0)}function ee(r){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=new Date(r.getTime());return typeof e!="boolean"||e||De(t),t}function De(r){return r.setHours(0,0,0,0),r}function k(r,e,t){r.length?r.forEach(i=>{i.addEventListener(e,t)}):r.addEventListener(e,t)}function U(r,e){return!(!r||r===document||r instanceof DocumentFragment)&&(r.matches(e)?r:U(r.parentNode,e))}function R(r,e,t){return r>t?t:r<e?e:r}function X(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return t.filter(a=>a).forEach(a=>{for(let[n,s]of Object.entries(a))if(s!==void 0&&s.toString()==="[object Object]"){let o=r[n]!==void 0?r[n].toString():void 0,l=s.toString(),d=Array.isArray(s)?[]:{};r[n]=r[n]?o!==l?d:r[n]:d,X(r[n],s)}else r[n]=s}),r}function S(r){let e=r;return r instanceof Date||(e=new Date(r)),isNaN(e.getTime())&&(console.log('Unable to convert value "'.concat(r,'" to Date object')),e=!1),e}function te(r){let e="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+e+")("+r+")($|<|"+e+")","g")}function A(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}class ye{constructor(){let{type:e,date:t,dp:i,opts:a,body:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};A(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0}),A(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),A(this,"select",()=>{this.$cell.classList.add("-selected-"),this.selected=!0}),A(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1}),A(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),A(this,"onChangeFocusDate",s=>{if(!s)return void(this.focused&&this.removeFocus());let o=b(s,this.date,this.type);o?this.focus():!o&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),A(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this.$cell.adpCell=this,this.$cell)),this.type=e,this.singleType=this.type.slice(0,-1),this.date=t,this.dp=i,this.opts=a,this.body=n,this.customData=!1,this.init()}init(){let{range:e,onRenderCell:t}=this.opts;t&&(this.customData=t({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),e&&this._handleRangeStatus())}_bindDatepickerEvents(){this.dp.on(h.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(h.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(h.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(h.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var e;let{year:t,month:i,date:a}=y(this.date),n=((e=this.customData)===null||e===void 0?void 0:e.attrs)||{};this.$cell=C({className:this._getClassName(),attrs:{"data-year":t,"data-month":i,"data-date":a,...n}})}_getClassName(){var e,t;let i=new Date,{selectOtherMonths:a,selectOtherYears:n}=this.opts,{minDate:s,maxDate:o}=this.dp,{day:l}=y(this.date),d=this._isOutOfMinMaxRange(),u=(e=this.customData)===null||e===void 0?void 0:e.disabled,p=F("air-datepicker-cell","-".concat(this.singleType,"-"),{"-current-":b(i,this.date,this.type),"-min-date-":s&&b(s,this.date,this.type),"-max-date-":o&&b(o,this.date,this.type)}),m="";switch(this.type){case h.days:m=F({"-weekend-":this.dp.isWeekend(l),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!a||d||u});break;case h.months:m=F({"-disabled-":d||u});break;case h.years:m=F({"-other-decade-":this.isOtherDecade,"-disabled-":d||this.isOtherDecade&&!n||u})}return F(p,m,(t=this.customData)===null||t===void 0?void 0:t.classes)}_getHtml(){var e;let{year:t,month:i,date:a}=y(this.date),{showOtherMonths:n,showOtherYears:s}=this.opts;if((e=this.customData)!==null&&e!==void 0&&e.html)return this.customData.html;switch(this.type){case h.days:return!n&&this.isOtherMonth?"":a;case h.months:return this.dp.locale[this.opts.monthsField][i];case h.years:return!s&&this.isOtherDecade?"":t}}_isOutOfMinMaxRange(){let{minDate:e,maxDate:t}=this.dp,{type:i,date:a}=this,{month:n,year:s,date:o}=y(a),l=i===h.days,d=i===h.years,u=!!e&&new Date(s,d?e.getMonth():n,l?o:e.getDate()),p=!!t&&new Date(s,d?t.getMonth():n,l?o:t.getDate());return e&&t?P(u,e)||x(p,t):e?P(u,e):t?x(p,t):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{rangeDateFrom:e,rangeDateTo:t}=this.dp,i=F({"-in-range-":e&&t&&(a=this.date,n=e,s=t,x(a,n)&&P(a,s)),"-range-from-":e&&b(this.date,e,this.type),"-range-to-":t&&b(this.date,t,this.type)});var a,n,s;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),i&&this.$cell.classList.add(...i.split(" "))}_handleSelectedStatus(){let e=this.dp._checkIfDateIsSelected(this.date,this.type);e?this.select():!e&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){b(this.dp.focusDate,this.date,this.type)&&this.focus()}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function M(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}let we={[h.days]:'<div class="air-datepicker-body--day-names"></div>'+'<div class="air-datepicker-body--cells -'.concat(h.days,'-"></div>'),[h.months]:'<div class="air-datepicker-body--cells -'.concat(h.months,'-"></div>'),[h.years]:'<div class="air-datepicker-body--cells -'.concat(h.years,'-"></div>')},Y=".air-datepicker-cell";class oe{constructor(e){let{dp:t,type:i,opts:a}=e;M(this,"handleClick",n=>{let s=n.target.closest(Y).adpCell;if(s.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let o=this.dp._checkIfDateIsSelected(s.date,s.type);o?this.dp._handleAlreadySelectedDates(o,s.date):this.dp.selectDate(s.date)}),M(this,"handleDayNameClick",n=>{let s=n.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(s),datepicker:this.dp})}),M(this,"onChangeCurrentView",n=>{n!==this.type?this.hide():(this.show(),this.render())}),M(this,"onMouseOverCell",n=>{let s=U(n.target,Y);this.dp.setFocusDate(!!s&&s.adpCell.date)}),M(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),M(this,"onClickBody",n=>{let{onClickDayName:s}=this.opts,o=n.target;o.closest(Y)&&this.handleClick(n),s&&o.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(n)}),M(this,"onMouseDown",n=>{this.pressed=!0;let s=U(n.target,Y),o=s&&s.adpCell;b(o.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),b(o.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),M(this,"onMouseMove",n=>{if(!this.pressed||!this.dp.isMinViewReached)return;n.preventDefault();let s=U(n.target,Y),o=s&&s.adpCell,{selectedDates:l,rangeDateTo:d,rangeDateFrom:u}=this.dp;if(!o||o.isDisabled)return;let{date:p}=o;if(l.length===2){if(this.rangeFromFocused&&!x(p,d)){let{hours:m,minutes:D}=y(u);p.setHours(m),p.setMinutes(D),this.dp.rangeDateFrom=p,this.dp.replaceDate(u,p)}if(this.rangeToFocused&&!P(p,u)){let{hours:m,minutes:D}=y(d);p.setHours(m),p.setMinutes(D),this.dp.rangeDateTo=p,this.dp.replaceDate(d,p)}}}),M(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),M(this,"onChangeViewDate",(n,s)=>{if(!this.isVisible)return;let o=E(n),l=E(s);switch(this.dp.currentView){case h.days:if(b(n,s,h.months))return;break;case h.months:if(b(n,s,h.years))return;break;case h.years:if(o[0]===l[0]&&o[1]===l[1])return}this.render()}),M(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(n=>{this.$cells.appendChild(n.render())})}),this.dp=t,this.type=i,this.opts=a,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===h.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:e,dynamicRange:t}=this.opts;k(this.$el,"mouseover",this.onMouseOverCell),k(this.$el,"mouseout",this.onMouseOutCell),k(this.$el,"click",this.onClickBody),e&&t&&(k(this.$el,"mousedown",this.onMouseDown),k(this.$el,"mousemove",this.onMouseMove),k(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(h.eventChangeViewDate,this.onChangeViewDate),this.dp.on(h.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=C({className:"air-datepicker-body -".concat(this.type,"-"),innerHtml:we[this.type]}),this.$names=f(".air-datepicker-body--day-names",this.$el),this.$cells=f(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dp.locale.firstDay,t="",i=this.dp.isWeekend,{onClickDayName:a}=this.opts,n=e,s=0;for(;s<7;){let o=n%7,l=F("air-datepicker-body--day-name",{[h.cssClassWeekend]:i(o),"-clickable-":!!a}),d=this.dp.locale.daysMin[o];t+='<div class="'.concat(l,`" data-day-index='`).concat(o,"'>").concat(d,"</div>"),s++,n++}return t}_getDaysCells(){let{viewDate:e,locale:{firstDay:t}}=this.dp,i=re(e),{year:a,month:n}=y(e),s=new Date(a,n,1),o=new Date(a,n,i),l=s.getDay()-t,d=6-o.getDay()+t;l=l<0?l+7:l,d=d>6?d-7:d;let u=function(W,q){let{year:z,month:j,date:Q}=y(W);return new Date(z,j,Q-q)}(s,l),p=i+l+d,m=u.getDate(),{year:D,month:_}=y(u),T=0;for(;T<p;){let W=new Date(D,_,m+T);this._generateCell(W),T++}}_generateCell(e){let{type:t,dp:i,opts:a}=this,n=new ye({type:t,dp:i,opts:a,date:e,body:this});return this.cells.push(n),n}_generateDayCells(){this._getDaysCells()}_generateMonthCells(){let{year:e}=this.dp.parsedViewDate,t=0;for(;t<12;)this.cells.push(this._generateCell(new Date(e,t))),t++}_generateYearCells(){let e=E(this.dp.viewDate),t=e[0]-1,i=e[1]+1,a=t;for(;a<=i;)this.cells.push(this._generateCell(new Date(a,0))),a++}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCells(){switch(this.type){case h.days:this._generateDayCells();break;case h.months:this._generateMonthCells();break;case h.years:this._generateYearCells()}}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(e=>e.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(h.eventChangeViewDate,this.onChangeViewDate),this.dp.off(h.eventChangeCurrentView,this.onChangeCurrentView)}}function H(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}class be{constructor(e){let{dp:t,opts:i}=e;H(this,"onClickNav",a=>{let n=U(a.target,".air-datepicker-nav--action");if(!n)return;let s=n.dataset.action;this.dp[s]()}),H(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),H(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),H(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),H(this,"update",()=>{let{prevHtml:a,nextHtml:n}=this.opts;this.$prev.innerHTML=a,this.$next.innerHTML=n,this._resetNavStatus(),this.render(),this.handleNavStatus()}),H(this,"renderDelay",()=>{setTimeout(this.render)}),H(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(a,n){for(let s in n)n[s]?a.classList.add(s):a.classList.remove(s)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=t,this.opts=i,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=f(".air-datepicker-nav--title",this.$el),this.$prev=f('[data-action="prev"]',this.$el),this.$next=f('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(h.eventChangeViewDate,this.onChangeViewDate),this.dp.on(h.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(h.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(h.eventChangeTime,this.render))}destroy(){this.dp.off(h.eventChangeViewDate,this.onChangeViewDate),this.dp.off(h.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(h.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(h.eventChangeTime,this.render))}_createElement(){this.$el=C({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:e,opts:t}=this,i=t.navTitles[e.currentView];return typeof i=="function"?i(e):e.formatDate(e.viewDate,i)}handleNavStatus(){let{disableNavWhenOutOfRange:e}=this.opts,{minDate:t,maxDate:i}=this.dp;if(!t&&!i||!e)return;let{year:a,month:n}=this.dp.parsedViewDate,s=!!t&&y(t),o=!!i&&y(i);switch(this.dp.currentView){case h.days:t&&s.month>=n&&s.year>=a&&this._disableNav("prev"),i&&o.month<=n&&o.year<=a&&this._disableNav("next");break;case h.months:t&&s.year>=a&&this._disableNav("prev"),i&&o.year<=a&&this._disableNav("next");break;case h.years:{let l=E(this.dp.viewDate);t&&s.year>=l[0]&&this._disableNav("prev"),i&&o.year<=l[1]&&this._disableNav("next");break}}}_disableNav(e){f('[data-action="'+e+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){(function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];e.length?e.forEach(n=>{n.classList.remove(...i)}):e.classList.remove(...i)})(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:e,nextHtml:t}=this.opts;this.$el.innerHTML='<div class="air-datepicker-nav--action" data-action="prev">'.concat(e,"</div>")+'<div class="air-datepicker-nav--title"></div>'+'<div class="air-datepicker-nav--action" data-action="next">'.concat(t,"</div>")}get isNavIsFunction(){let{navTitles:e}=this.opts;return Object.keys(e).find(t=>typeof e[t]=="function")}}var he={today:{content:r=>r.locale.today,onClick:r=>r.setViewDate(new Date)},clear:{content:r=>r.locale.clear,onClick:r=>r.clear()}};class _e{constructor(e){let{dp:t,opts:i}=e;this.dp=t,this.opts=i,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=C({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:e}=this.opts;Array.isArray(e)||(e=[e]),e.forEach(t=>{let i=t;typeof t=="string"&&he[t]&&(i=he[t]);let a=this.createButton(i);i.onClick&&this.attachEventToButton(a,i.onClick),this.$el.appendChild(a)})}attachEventToButton(e,t){e.addEventListener("click",()=>{t(this.dp)})}createButton(e){let{content:t,className:i,tagName:a="button",attrs:n={}}=e,s=typeof t=="function"?t(this.dp):t;return C({tagName:a,innerHtml:"<span tabindex='-1'>".concat(s,"</span>"),className:F("air-datepicker-button",i),attrs:n})}render(){this.generateButtons()}}function N(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}class ke{constructor(){let{opts:e,dp:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};N(this,"toggleTimepickerIsActive",a=>{this.dp.timepickerIsActive=a}),N(this,"onChangeSelectedDate",a=>{let{date:n,updateTime:s=!1}=a;n&&(this.setMinMaxTime(n),this.setCurrentTime(!!s&&n),this.addTimeToDate(n))}),N(this,"onChangeLastSelectedDate",a=>{a&&(this.setTime(a),this.render())}),N(this,"onChangeInputRange",a=>{let n=a.target;this[n.getAttribute("name")]=n.value,this.updateText(),this.dp.trigger(h.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),N(this,"onMouseEnterLeave",a=>{let n=a.target.getAttribute("name"),s=this.$minutesText;n==="hours"&&(s=this.$hoursText),s.classList.toggle("-focus-")}),N(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),N(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=e,this.dp=t;let{timeFormat:i}=this.dp.locale;i&&(i.match(te("h"))||i.match(te("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(h.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(h.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let e="input";navigator.userAgent.match(/trident/gi)&&(e="change"),k(this.$ranges,e,this.onChangeInputRange),k(this.$ranges,"mouseenter",this.onMouseEnterLeave),k(this.$ranges,"mouseleave",this.onMouseEnterLeave),k(this.$ranges,"focus",this.onFocus),k(this.$ranges,"mousedown",this.onFocus),k(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=C({className:F("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(h.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(h.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:e,hours:t,displayHours:i,minutes:a,minHours:n,minMinutes:s,maxHours:o,maxMinutes:l,dayPeriod:d,opts:{hoursStep:u,minutesStep:p}}=this;this.$el.innerHTML='<div class="air-datepicker-time--current">'+'   <span class="air-datepicker-time--current-hours">'.concat(B(i),"</span>")+'   <span class="air-datepicker-time--current-colon">:</span>'+'   <span class="air-datepicker-time--current-minutes">'.concat(B(a),"</span>")+"   ".concat(e?"<span class='air-datepicker-time--current-ampm'>".concat(d,"</span>"):"")+'</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">'+'      <input type="range" name="hours" value="'.concat(t,'" min="').concat(n,'" max="').concat(o,'" step="').concat(u,'"/>')+'   </div>   <div class="air-datepicker-time--row">'+'      <input type="range" name="minutes" value="'.concat(a,'" min="').concat(s,'" max="').concat(l,'" step="').concat(p,'"/>')+"   </div></div>"}defineDOM(){let e=t=>f(t,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=e('[name="hours"]'),this.$minutes=e('[name="minutes"]'),this.$hoursText=e(".air-datepicker-time--current-hours"),this.$minutesText=e(".air-datepicker-time--current-minutes"),this.$ampm=e(".air-datepicker-time--current-ampm")}setTime(e){this.setMinMaxTime(e),this.setCurrentTime(e)}addTimeToDate(e){e&&(e.setHours(this.hours),e.setMinutes(this.minutes))}setMinMaxTime(e){if(this.setMinMaxTimeFromOptions(),e){let{minDate:t,maxDate:i}=this.dp;t&&b(e,t)&&this.setMinTimeFromMinDate(t),i&&b(e,i)&&this.setMaxTimeFromMaxDate(i)}}setCurrentTime(e){let{hours:t,minutes:i}=e?y(e):this;this.hours=R(t,this.minHours,this.maxHours),this.minutes=R(i,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:e,minMinutes:t,maxHours:i,maxMinutes:a}=this.opts;this.minHours=R(e,0,23),this.minMinutes=R(t,0,59),this.maxHours=R(i,0,23),this.maxMinutes=R(a,0,59)}setMinTimeFromMinDate(e){let{lastSelectedDate:t}=this.dp;this.minHours=e.getHours(),t&&t.getHours()>e.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=e.getMinutes()}setMaxTimeFromMaxDate(e){let{lastSelectedDate:t}=this.dp;this.maxHours=e.getHours(),t&&t.getHours()<e.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=e.getMinutes()}getDayPeriod(e,t){let i=e,a=Number(e);e instanceof Date&&(i=y(e),a=Number(i.hours));let n="am";if(t||this.ampm){switch(!0){case a===12:case a>11:n="pm"}a=a%12==0?12:a%12}return{hours:a,dayPeriod:n}}updateSliders(){Z(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,Z(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=B(this.displayHours),this.$minutesText.innerHTML=B(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(e){this._hours=e;let{hours:t,dayPeriod:i}=this.getDayPeriod(e);this.displayHours=t,this.dayPeriod=i}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function I(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}class Ce{constructor(e){let{dp:t,opts:i}=e;I(this,"pressedKeys",new Set),I(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],a=>a.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],a=>a.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],a=>a.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],a=>a.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],a=>a.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],a=>a.year-=10],[["Control","Shift","ArrowUp"],(a,n)=>n.up()]])),I(this,"handleHotKey",a=>{let n=this.hotKeys.get(a),s=y(this.getInitialFocusDate());n(s,this.dp);let{year:o,month:l,date:d}=s,u=re(new Date(o,l));u<d&&(d=u);let p=this.dp.getClampedDate(new Date(o,l,d));this.dp.setFocusDate(p,{viewDateTransition:!0})}),I(this,"isHotKeyPressed",()=>{let a=!1,n=this.pressedKeys.size,s=o=>this.pressedKeys.has(o);for(let[o]of this.hotKeys){if(a)break;if(Array.isArray(o[0]))o.forEach(l=>{a||n!==l.length||(a=l.every(s)&&o)});else{if(n!==o.length)continue;a=o.every(s)&&o}}return a}),I(this,"isArrow",a=>a>=37&&a<=40),I(this,"onKeyDown",a=>{let{key:n,which:s}=a,{dp:o,dp:{focusDate:l},opts:d}=this;this.registerKey(n);let u=this.isHotKeyPressed();if(u)return a.preventDefault(),void this.handleHotKey(u);if(this.isArrow(s))return a.preventDefault(),void this.focusNextCell(n);if(n==="Enter"){if(o.currentView!==d.minView)return void o.down();if(l){let p=o._checkIfDateIsSelected(l);return void(p?o._handleAlreadySelectedDates(p,l):o.selectDate(l))}}n==="Escape"&&this.dp.hide()}),I(this,"onKeyUp",a=>{this.removeKey(a.key)}),this.dp=t,this.opts=i,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:e}=this.dp;e.addEventListener("keydown",this.onKeyDown),e.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:e}=this.dp;e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:e,currentView:t,selectedDates:i,parsedViewDate:{year:a,month:n}}=this.dp,s=e||i[i.length-1];if(!s)switch(t){case h.days:s=new Date(a,n,new Date().getDate());break;case h.months:s=new Date(a,n,1);break;case h.years:s=new Date(a,0,1)}return s}focusNextCell(e){let t=this.getInitialFocusDate(),{currentView:i}=this.dp,{days:a,months:n,years:s}=h,o=y(t),l=o.year,d=o.month,u=o.date;switch(e){case"ArrowLeft":i===a&&(u-=1),i===n&&(d-=1),i===s&&(l-=1);break;case"ArrowUp":i===a&&(u-=7),i===n&&(d-=3),i===s&&(l-=4);break;case"ArrowRight":i===a&&(u+=1),i===n&&(d+=1),i===s&&(l+=1);break;case"ArrowDown":i===a&&(u+=7),i===n&&(d+=3),i===s&&(l+=4)}let p=this.dp.getClampedDate(new Date(l,d,u));this.dp.setFocusDate(p,{viewDateTransition:!0})}registerKey(e){this.pressedKeys.add(e)}removeKey(e){this.pressedKeys.delete(e)}}let Me={on(r,e){this.__events||(this.__events={}),this.__events[r]?this.__events[r].push(e):this.__events[r]=[e]},off(r,e){this.__events&&this.__events[r]&&(this.__events[r]=this.__events[r].filter(t=>t!==e))},removeAllEvents(){this.__events={}},trigger(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];this.__events&&this.__events[r]&&this.__events[r].forEach(a=>{a(...t)})}};function v(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}let ie="",G="",L="",le=!1;class V{constructor(e,t){var i=this;if(v(this,"viewIndexes",[h.days,h.months,h.years]),v(this,"next",()=>{let{year:s,month:o}=this.parsedViewDate;switch(this.currentView){case h.days:this.setViewDate(new Date(s,o+1,1));break;case h.months:this.setViewDate(new Date(s+1,o,1));break;case h.years:this.setViewDate(new Date(s+10,0,1))}}),v(this,"prev",()=>{let{year:s,month:o}=this.parsedViewDate;switch(this.currentView){case h.days:this.setViewDate(new Date(s,o-1,1));break;case h.months:this.setViewDate(new Date(s-1,o,1));break;case h.years:this.setViewDate(new Date(s-10,0,1))}}),v(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),v(this,"setPosition",function(s){let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof(s=s||i.opts.position)=="function")return void(i.customHide=s({$datepicker:i.$datepicker,$target:i.$el,$pointer:i.$pointer,isViewChange:o,done:i._finishHide}));let l,d,{isMobile:u}=i.opts,p=i.$el.getBoundingClientRect(),m=i.$el.getBoundingClientRect(),D=i.$datepicker.offsetParent,_=i.$el.offsetParent,T=i.$datepicker.getBoundingClientRect(),W=s.split(" "),q=window.scrollY,z=window.scrollX,j=i.opts.offset,Q=W[0],$e=W[1];if(u)i.$datepicker.style.cssText="left: 50%; top: 50%";else{if(D===_&&D!==document.body&&(m={top:i.$el.offsetTop,left:i.$el.offsetLeft,width:p.width,height:i.$el.offsetHeight},q=0,z=0),D!==_&&D!==document.body){let ce=D.getBoundingClientRect();m={top:p.top-ce.top,left:p.left-ce.left,width:p.width,height:p.height},q=0,z=0}switch(Q){case"top":l=m.top-T.height-j;break;case"right":d=m.left+m.width+j;break;case"bottom":l=m.top+m.height+j;break;case"left":d=m.left-T.width-j}switch($e){case"top":l=m.top;break;case"right":d=m.left+m.width-T.width;break;case"bottom":l=m.top+m.height-T.height;break;case"left":d=m.left;break;case"center":/left|right/.test(Q)?l=m.top+m.height/2-T.height/2:d=m.left+m.width/2-T.width/2}i.$datepicker.style.cssText="left: ".concat(d+z,"px; top: ").concat(l+q,"px")}}),v(this,"_setInputValue",()=>{let{opts:s,$altField:o,locale:{dateFormat:l}}=this,{altFieldDateFormat:d,altField:u}=s;u&&o&&(o.value=this._getInputValue(d)),this.$el.value=this._getInputValue(l)}),v(this,"_getInputValue",s=>{let{selectedDates:o,opts:l}=this,{multipleDates:d,multipleDatesSeparator:u}=l;if(!o.length)return"";let p=typeof s=="function",m=p?s(d?o:o[0]):o.map(D=>this.formatDate(D,s));return m=p?m:m.join(u),m}),v(this,"_checkIfDateIsSelected",function(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.days,l=!1;return i.selectedDates.some(d=>{let u=b(s,d,o);return l=u&&d,u}),l}),v(this,"_scheduleCallAfterTransition",s=>{this._cancelScheduledCall(),s&&s(!1),this._onTransitionEnd=()=>{s&&s(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),v(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),v(this,"setViewDate",s=>{if(!((s=S(s))instanceof Date)||b(s,this.viewDate))return;let o=this.viewDate;this.viewDate=s;let{onChangeViewDate:l}=this.opts;if(l){let{month:d,year:u}=this.parsedViewDate;l({month:d,year:u,decade:this.curDecade})}this.trigger(h.eventChangeViewDate,s,o)}),v(this,"setFocusDate",function(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!s||(s=S(s))instanceof Date)&&(i.focusDate=s,i.opts.range&&s&&i._handleRangeOnFocus(),i.trigger(h.eventChangeFocusDate,s,o))}),v(this,"setCurrentView",s=>{if(this.viewIndexes.includes(s)){if(this.currentView=s,this.elIsInput&&this.visible&&this.setPosition(void 0,!0),this.trigger(h.eventChangeCurrentView,s),!this.views[s]){let o=this.views[s]=new oe({dp:this,opts:this.opts,type:s});this.shouldUpdateDOM&&this.$content.appendChild(o.$el)}this.opts.onChangeView&&this.opts.onChangeView(s)}}),v(this,"_updateLastSelectedDate",s=>{this.lastSelectedDate=s,this.trigger(h.eventChangeLastSelectedDate,s)}),v(this,"destroy",()=>{let{showEvent:s,isMobile:o}=this.opts,l=this.$datepicker.parentNode;l&&l.removeChild(this.$datepicker),this.$el.removeEventListener(s,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),o&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts=null,this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=null,this.rangeDateFrom=null,this.rangeDateTo=null}),v(this,"update",s=>{let o=X({},this.opts);X(this.opts,s);let{timepicker:l,buttons:d,range:u,selectedDates:p,isMobile:m}=this.opts,D=this.visible||this.treatAsInline;this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this._handleLocale(),!o.selectedDates&&p&&this.selectDate(p),s.view&&this.setCurrentView(s.view),this._setInputValue(),o.range&&!u?(this.rangeDateTo=!1,this.rangeDateFrom=!1):!o.range&&u&&this.selectedDates.length&&(this.rangeDateFrom=this.selectedDates[0],this.rangeDateTo=this.selectedDates[1]),o.timepicker&&!l?(D&&this.timepicker.destroy(),this.timepicker=!1,this.$timepicker.parentNode.removeChild(this.$timepicker)):!o.timepicker&&l&&this._addTimepicker(),!o.buttons&&d?this._addButtons():o.buttons&&!d?(this.buttons.destroy(),this.$buttons.parentNode.removeChild(this.$buttons)):D&&o.buttons&&d&&this.buttons.clearHtml().render(),!o.isMobile&&m?(this.treatAsInline||L||this._createMobileOverlay(),this._addMobileAttributes(),this.visible&&this._showMobileOverlay()):o.isMobile&&!m&&(this._removeMobileAttributes(),this.visible&&(L.classList.remove("-active-"),typeof this.opts.position!="function"&&this.setPosition())),D&&(this.nav.update(),this.views[this.currentView].render(),this.currentView===h.days&&this.views[this.currentView].renderDayNames())}),v(this,"isOtherMonth",s=>{let{month:o}=y(s);return o!==this.parsedViewDate.month}),v(this,"isOtherYear",s=>{let{year:o}=y(s);return o!==this.parsedViewDate.year}),v(this,"isOtherDecade",s=>{let{year:o}=y(s),[l,d]=E(this.viewDate);return o<l||o>d}),v(this,"_onChangeSelectedDate",s=>{let{silent:o}=s;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!o&&this._triggerOnSelect()})}),v(this,"_onChangeFocusedDate",function(s){let{viewDateTransition:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!s)return;let l=!1;o&&(l=i.isOtherMonth(s)||i.isOtherYear(s)||i.isOtherDecade(s)),l&&i.setViewDate(s)}),v(this,"_onChangeTime",s=>{let{hours:o,minutes:l}=s,d=new Date,{lastSelectedDate:u,opts:{onSelect:p}}=this,m=u;u||(m=d);let D=this.getCell(m,this.currentViewSingular),_=D&&D.adpCell;_&&_.isDisabled||(m.setHours(o),m.setMinutes(l),u?(this._setInputValue(),p&&this._triggerOnSelect()):this.selectDate(m))}),v(this,"_onFocus",s=>{this.visible||this.show()}),v(this,"_onBlur",s=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),v(this,"_onMouseDown",s=>{this.inFocus=!0}),v(this,"_onMouseUp",s=>{this.inFocus=!1,this.$el.focus()}),v(this,"_onResize",()=>{this.visible&&typeof this.opts.position!="function"&&this.setPosition()}),v(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),v(this,"isWeekend",s=>this.opts.weekends.includes(s)),v(this,"getClampedDate",s=>{let{minDate:o,maxDate:l}=this,d=s;return l&&x(s,l)?d=l:o&&P(s,o)&&(d=o),d}),this.$el=f(e),!this.$el)return;this.$datepicker=C({className:"air-datepicker"}),this.opts=X({},w,t),this.$customContainer=!!this.opts.container&&f(this.opts.container),this.$altField=f(this.opts.altField||!1),ie||(ie=f("body"));let{view:a,startDate:n}=this.opts;n||(this.opts.startDate=new Date),this.$el.nodeName==="INPUT"&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=S(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=a,this.selectedDates=[],this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:e,treatAsInline:t,opts:{inline:i,isMobile:a,selectedDates:n,keyboardNav:s,onlyTimepicker:o}}=this;var l;le||i||!this.elIsInput||(le=!0,G=C({className:l=V.defaultContainerId,id:l}),ie.appendChild(G)),!a||L||t||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(i||this._bindEvents(),s&&!o&&(this.keyboardNav=new Ce({dp:this,opts:e}))),n&&this.selectDate(n,{silent:!0}),this.opts.visible&&!t&&this.show(),a&&!t&&this.$el.setAttribute("readonly",!0),t&&this._createComponents()}_createMobileOverlay(){L=C({className:"air-datepicker-overlay"}),G.appendChild(L)}_createComponents(){let{opts:e,treatAsInline:t,opts:{inline:i,buttons:a,timepicker:n,position:s,classes:o,onlyTimepicker:l,isMobile:d}}=this;this._buildBaseHtml(),this.elIsInput&&(i||this._setPositionClasses(s)),!i&&this.elIsInput||this.$datepicker.classList.add("-inline-"),o&&this.$datepicker.classList.add(...o.split(" ")),l&&this.$datepicker.classList.add("-only-timepicker-"),d&&!t&&this._addMobileAttributes(),this.views[this.currentView]=new oe({dp:this,type:this.currentView,opts:e}),this.nav=new be({dp:this,opts:e}),n&&this._addTimepicker(),a&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let e in this.views)this.views[e].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){L.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){L.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||this.initialReadonly===""||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:e,maxDate:t}=this.opts;this.minDate=!!e&&S(e),this.maxDate=!!t&&S(t)}_addTimepicker(){this.$timepicker=C({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new ke({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=C({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new _e({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(h.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(h.eventChangeFocusDate,this._onChangeFocusedDate),this.on(h.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:e}=this.opts;var t,i;this.elIsInput?e?(t=this.$datepicker,(i=this.$el).parentNode.insertBefore(t,i.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=f(".air-datepicker--content",this.$datepicker),this.$pointer=f(".air-datepicker--pointer",this.$datepicker),this.$nav=f(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:e,dateFormat:t,firstDay:i,timepicker:a,onlyTimepicker:n,timeFormat:s,dateTimeSeparator:o}=this.opts;var l;this.locale=(l=e,JSON.parse(JSON.stringify(l))),t&&(this.locale.dateFormat=t),s!==void 0&&s!==""&&(this.locale.timeFormat=s);let{timeFormat:d}=this.locale;if(i!==""&&(this.locale.firstDay=i),a&&typeof t!="function"){let u=d?o:"";this.locale.dateFormat=[this.locale.dateFormat,d||""].join(u)}n&&typeof t!="function"&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(e){if(typeof e=="function")return void this.$datepicker.classList.add("-custom-position-");let t=(e=e.split(" "))[0],i=e[1],a="air-datepicker -".concat(t,"-").concat(i,"- -from-").concat(t,"-");this.$datepicker.classList.add(...a.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:e,minDate:t,maxDate:i}=this;i&&x(e,i)&&this.setViewDate(i),t&&P(e,t)&&this.setViewDate(t)}formatDate(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.viewDate,t=arguments.length>1?arguments[1]:void 0;if(e=S(e),!(e instanceof Date))return;let i=t,a=this.locale,n=y(e),s=E(e),o=V.replacer,l="am";this.opts.timepicker&&this.timepicker&&(l=this.timepicker.getDayPeriod(e).dayPeriod);let d={T:e.getTime(),m:n.minutes,mm:n.fullMinutes,h:n.hours12,hh:n.fullHours12,H:n.hours,HH:n.fullHours,aa:l,AA:l.toUpperCase(),E:a.daysShort[n.day],EEEE:a.days[n.day],d:n.date,dd:n.fullDate,M:n.month+1,MM:n.fullMonth,MMM:a.monthsShort[n.month],MMMM:a.months[n.month],yy:n.year.toString().slice(-2),yyyy:n.year,yyyy1:s[0],yyyy2:s[1]};for(let[u,p]of Object.entries(d))i=o(i,te(u),p);return i}down(e){this._handleUpDownActions(e,"down")}up(e){this._handleUpDownActions(e,"up")}selectDate(e){let t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{currentView:a,parsedViewDate:n,selectedDates:s}=this,{updateTime:o}=i,{moveToOtherMonthsOnSelect:l,moveToOtherYearsOnSelect:d,multipleDates:u,range:p,autoClose:m}=this.opts,D=s.length;if(Array.isArray(e))return e.forEach(_=>{this.selectDate(_,i)}),new Promise(_=>{setTimeout(_)});if((e=S(e))instanceof Date){if(a===h.days&&e.getMonth()!==n.month&&l&&(t=new Date(e.getFullYear(),e.getMonth(),1)),a===h.years&&e.getFullYear()!==n.year&&d&&(t=new Date(e.getFullYear(),0,1)),t&&this.setViewDate(t),u&&!p){if(D===u)return;this._checkIfDateIsSelected(e)||s.push(e)}else if(p)switch(D){case 1:s.push(e),this.rangeDateTo||(this.rangeDateTo=e),x(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=e),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[e],this.rangeDateFrom=e,this.rangeDateTo="";break;default:this.selectedDates=[e],this.rangeDateFrom=e}else this.selectedDates=[e];return this.trigger(h.eventChangeSelectedDate,{action:h.actionSelectDate,silent:i?.silent,date:e,updateTime:o}),this._updateLastSelectedDate(e),m&&!this.timepickerIsActive&&this.visible&&(u||p?p&&D===1&&this.hide():this.hide()),new Promise(_=>{setTimeout(_)})}}unselectDate(e){let t=this.selectedDates,i=this;if((e=S(e))instanceof Date)return t.some((a,n)=>{if(b(a,e))return t.splice(n,1),i.selectedDates.length?i._updateLastSelectedDate(i.selectedDates[i.selectedDates.length-1]):(i.rangeDateFrom="",i.rangeDateTo="",i._updateLastSelectedDate(!1)),this.trigger(h.eventChangeSelectedDate,{action:h.actionUnselectDate,date:e}),!0})}replaceDate(e,t){let i=this.selectedDates.find(n=>b(n,e,this.currentView)),a=this.selectedDates.indexOf(i);a<0||b(this.selectedDates[a],t,this.currentView)||(this.selectedDates[a]=t,this.trigger(h.eventChangeSelectedDate,{action:h.actionSelectDate,date:t,updateTime:!0}),this._updateLastSelectedDate(t))}clear(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.trigger(h.eventChangeSelectedDate,{action:h.actionUnselectDate,silent:e.silent}),new Promise(t=>{setTimeout(t)})}show(){let{onShow:e,isMobile:t}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,e&&this._scheduleCallAfterTransition(e),t&&this._showMobileOverlay()}hide(){let{onHide:e,isMobile:t}=this.opts,i=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(a=>{!this.customHide&&(a&&i||!a&&!i)&&this._finishHide(),e&&e(a)}),t&&L.classList.remove("-active-")}_triggerOnSelect(){let e=[],t=[],{selectedDates:i,locale:a,opts:{onSelect:n,multipleDates:s,range:o}}=this,l=s||o,d=typeof a.dateFormat=="function";i.length&&(e=i.map(ee),t=d?s?a.dateFormat(e):e.map(u=>a.dateFormat(u)):e.map(u=>this.formatDate(u,a.dateFormat))),n({date:l?e:e[0],formattedDate:l?t:t[0],datepicker:this})}_handleAlreadySelectedDates(e,t){let{range:i,toggleSelected:a}=this.opts;i?a?this.unselectDate(t):this.selectedDates.length!==2&&this.selectDate(t):a&&this.unselectDate(t),a||this._updateLastSelectedDate(e)}_handleUpDownActions(e,t){if(!((e=S(e||this.focusDate||this.viewDate))instanceof Date))return;let i=t==="up"?this.viewIndex+1:this.viewIndex-1;i>2&&(i=2),i<0&&(i=0),this.setViewDate(new Date(e.getFullYear(),e.getMonth(),1)),this.setCurrentView(this.viewIndexes[i])}_handleRangeOnFocus(){this.selectedDates.length===1&&(x(this.selectedDates[0],this.focusDate)?(this.rangeDateTo=this.selectedDates[0],this.rangeDateFrom=this.focusDate):(this.rangeDateTo=this.focusDate,this.rangeDateFrom=this.selectedDates[0]))}getCell(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.day;if(!((e=S(e))instanceof Date))return;let{year:i,month:a,date:n}=y(e),s='[data-year="'.concat(i,'"]'),o='[data-month="'.concat(a,'"]'),l='[data-date="'.concat(n,'"]'),d={[h.day]:"".concat(s).concat(o).concat(l),[h.month]:"".concat(s).concat(o),[h.year]:"".concat(s)};return this.views[this.currentView].$el.querySelector(d[t])}_showMobileOverlay(){L.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((e,t)=>parseFloat(t)+e,0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return y(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return E(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===h.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===h.days}get $container(){return this.$customContainer||G}static replacer(e,t,i){return e.replace(t,function(a,n,s,o){return n+i+o})}}var de;return v(V,"defaults",w),v(V,"version","3.3.1"),v(V,"defaultContainerId","air-datepicker-global-container"),de=V.prototype,Object.assign(de,Me),c.default}()})});var ne=Ae(pe());var O=class{constructor(c){let h={backscroll:!0,linkAttributeName:"data-hystmodal",closeOnOverlay:!0,closeOnEsc:!0,closeOnButton:!0,waitTransitions:!1,catchFocus:!0,fixedSelectors:"*[data-hystfixed]",beforeOpen:()=>{},afterClose:()=>{}};this.config=Object.assign(h,c),this.config.linkAttributeName&&this.init(),this._closeAfterTransition=this._closeAfterTransition.bind(this)}init(){this.isOpened=!1,this.openedWindow=!1,this.starter=!1,this._nextWindows=!1,this._scrollPosition=0,this._reopenTrigger=!1,this._overlayChecker=!1,this._isMoved=!1,this._focusElements=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this._modalBlock=!1,O._shadow||(O._shadow=document.createElement("button"),O._shadow.classList.add("hystmodal__shadow"),document.body.appendChild(O._shadow)),this.eventsFeeler()}eventsFeeler(){document.addEventListener("click",function(c){let h=c.target.closest("["+this.config.linkAttributeName+"]");if(!this._isMoved&&h){c.preventDefault(),this.starter=h;let w=this.starter.getAttribute(this.config.linkAttributeName);this._nextWindows=document.querySelector(w),this.open();return}if(this.config.closeOnButton&&c.target.closest("[data-hystclose]")){this.close();return}}.bind(this)),this.config.closeOnOverlay&&(document.addEventListener("mousedown",function(c){!this._isMoved&&c.target instanceof Element&&!c.target.classList.contains("hystmodal__wrap")||(this._overlayChecker=!0)}.bind(this)),document.addEventListener("mouseup",function(c){if(!this._isMoved&&c.target instanceof Element&&this._overlayChecker&&c.target.classList.contains("hystmodal__wrap")){c.preventDefault(),this._overlayChecker,this.close();return}this._overlayChecker=!1}.bind(this))),window.addEventListener("keydown",function(c){if(!this._isMoved&&this.config.closeOnEsc&&c.which==27&&this.isOpened){c.preventDefault(),this.close();return}if(!this._isMoved&&this.config.catchFocus&&c.which==9&&this.isOpened){this.focusCatcher(c);return}}.bind(this))}open(c){if(c&&(typeof c=="string"?this._nextWindows=document.querySelector(c):this._nextWindows=c),!this._nextWindows){console.log("Warinig: hustModal selector is not found");return}if(this.isOpened){this._reopenTrigger=!0,this.close();return}this.openedWindow=this._nextWindows,this._modalBlock=this.openedWindow.querySelector(".hystmodal__window"),this.config.beforeOpen(this),this._bodyScrollControl(),O._shadow.classList.add("hystmodal__shadow--show"),this.openedWindow.classList.add("hystmodal--active"),this.openedWindow.setAttribute("aria-hidden","false"),this.config.catchFocus&&this.focusContol(),this.isOpened=!0}close(){!this.isOpened||(this.config.waitTransitions?(this.openedWindow.classList.add("hystmodal--moved"),this._isMoved=!0,this.openedWindow.addEventListener("transitionend",this._closeAfterTransition),this.openedWindow.classList.remove("hystmodal--active")):(this.openedWindow.classList.remove("hystmodal--active"),this._closeAfterTransition()))}_closeAfterTransition(){this.openedWindow.classList.remove("hystmodal--moved"),this.openedWindow.removeEventListener("transitionend",this._closeAfterTransition),this._isMoved=!1,O._shadow.classList.remove("hystmodal__shadow--show"),this.openedWindow.setAttribute("aria-hidden","true"),this.config.catchFocus&&this.focusContol(),this._bodyScrollControl(),this.isOpened=!1,this.openedWindow.scrollTop=0,this.config.afterClose(this),this._reopenTrigger&&(this._reopenTrigger=!1,this.open())}focusContol(){let c=this.openedWindow.querySelectorAll(this._focusElements);this.isOpened&&this.starter?this.starter.focus():c.length&&c[0].focus()}focusCatcher(c){let h=this.openedWindow.querySelectorAll(this._focusElements),w=Array.prototype.slice.call(h);if(!this.openedWindow.contains(document.activeElement))w[0].focus(),c.preventDefault();else{let f=w.indexOf(document.activeElement);console.log(f),c.shiftKey&&f===0&&(w[w.length-1].focus(),c.preventDefault()),!c.shiftKey&&f===w.length-1&&(w[0].focus(),c.preventDefault())}}_bodyScrollControl(){if(!this.config.backscroll)return;let c=Array.prototype.slice.call(document.querySelectorAll(this.config.fixedSelectors)),h=document.documentElement;if(this.isOpened===!0){h.classList.remove("hystmodal__opened"),h.style.marginRight="",c.map(f=>{f.style.marginRight=""}),window.scrollTo(0,this._scrollPosition),h.style.top="";return}this._scrollPosition=window.pageYOffset;let w=window.innerWidth-h.clientWidth;h.style.top=-this._scrollPosition+"px",w&&(h.style.marginRight=w+"px",c.map(f=>{f.style.marginRight=parseInt(getComputedStyle(f).marginRight)+w+"px"})),h.classList.add("hystmodal__opened")}},K=O;ue(K,"_shadow",!1);console.log("js done");var me=document.querySelector(".m-burger-menu"),He=document.querySelector(".m-close-btn"),ge=document.querySelector(".b-header-nav ");me.addEventListener("click",Ne);He.addEventListener("click",function(){ge.classList.remove("active-menu"),me.children[0].classList.remove("opened")});function Ne(){ge.classList.add("active-menu")}$(document).ready(function(){$(document).foundation(),$(function(){$(document).on("click",".js-select__input",function(){$(this).parents(".js-select").toggleClass("active")}),$(document).mouseup(function(g){var c=$(".js-select.active");!c.is(g.target)&&c.has(g.target).length===0&&c.removeClass("active")}),$(document).on("click",".active .js-select__list span",function(){var g=$(this).data("id"),c=$(this).parents(".js-select");c.find(".js-select__input").text($(this).text()),c.find("input").val(g).attr("value",g),c.removeClass("active")})})});var Ye=new Swiper(".l-main-banner",{loop:!0,pagination:{el:".l-main-banner__pagination"},autoplay:{delay:2e3}}),qe=new Swiper(".swiper-news",{sliderPerView:"auto",spaceBetween:40,navigation:{nextEl:".swiper-news__btn-next",prevEl:".swiper-news__btn-prev"}}),ve,fe;ve=new ne.default("#datepick-1",{onSelect({date:g}){fe.update({minDate:g})}});fe=new ne.default("#datepick-2",{onSelect({date:g}){ve.update({maxDate:g})}});var Ie=document.querySelectorAll(".l-detail-open");Ie.forEach(g=>{g.addEventListener("click",Be)});function Be(g){let c=g.currentTarget;c.offsetParent.children[1].classList.toggle("active"),c.nextSibling.classList.toggle("active")}var ze=new K({linkAttributeName:"data-hystmodal"});$(".input-file input[type=file]").on("change",function(){let g=this.files[0];$(this).next().html(g.name)});})();
//# sourceMappingURL=main.js.map
